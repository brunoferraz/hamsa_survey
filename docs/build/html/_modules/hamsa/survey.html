

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hamsa.survey &mdash; Hamsa Survey v 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Hamsa Survey v 0.0.1 documentation" href="../../index.html"/>
        <link rel="up" title="hamsa" href="../hamsa.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Hamsa Survey
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">hamsa</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Hamsa Survey</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../hamsa.html">hamsa</a> &raquo;</li>
        
      <li>hamsa.survey</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for hamsa.survey</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">abc</span>
<div class="viewcode-block" id="ISurvey"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey">[docs]</a><span class="k">class</span> <span class="nc">ISurvey</span><span class="p">(</span><span class="n">metaclass</span> <span class="o">=</span> <span class="n">abc</span><span class="o">.</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Interface works as a FAÇADE for hamsa survey system. Futhermore, also works as MODEL from MVC pattern&quot;&quot;&quot;</span>
<div class="viewcode-block" id="ISurvey.pre_process"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.pre_process">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">pre_process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
<div class="viewcode-block" id="ISurvey.get_questions"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.get_questions">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_questions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
<div class="viewcode-block" id="ISurvey.get_questions_headings"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.get_questions_headings">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_questions_headings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
<div class="viewcode-block" id="ISurvey.get_question"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.get_question">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
<div class="viewcode-block" id="ISurvey.get_instance"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.get_instance">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>
<div class="viewcode-block" id="ISurvey.get_answer"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.ISurvey.get_answer">[docs]</a>    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div></div>

<div class="viewcode-block" id="Survey"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey">[docs]</a><span class="k">class</span> <span class="nc">Survey</span><span class="p">(</span><span class="n">ISurvey</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Data Structure that stores information about how data will be exported to neural network&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__df</span> <span class="o">=</span> <span class="n">df</span>
<div class="viewcode-block" id="Survey.pre_process"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.pre_process">[docs]</a>    <span class="k">def</span> <span class="nf">pre_process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="Survey.get_questions"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.get_questions">[docs]</a>    <span class="k">def</span> <span class="nf">get_questions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="Survey.get_questions_headings"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.get_questions_headings">[docs]</a>    <span class="k">def</span> <span class="nf">get_questions_headings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="Survey.get_question"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.get_question">[docs]</a>    <span class="k">def</span> <span class="nf">get_question</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="Survey.get_instance"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.get_instance">[docs]</a>    <span class="k">def</span> <span class="nf">get_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="Survey.get_answer"><a class="viewcode-back" href="../../hamsa.html#hamsa.survey.Survey.get_answer">[docs]</a>    <span class="k">def</span> <span class="nf">get_answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
        <span class="k">pass</span></div></div>

<span class="c1"># import pandas as pd</span>
<span class="c1"># import hamsa as hs</span>
<span class="c1"># from . import question</span>

<span class="c1"># class Survey:</span>
<span class="c1">#     &quot;&quot;&quot; Data Structure that stores information about how data will be exported to neural network&quot;&quot;&quot;</span>

<span class="c1">#     def __init__(self, _df):</span>
<span class="c1">#         &quot;&quot;&quot; Constructor for Survey Object</span>

<span class="c1">#         :param pd.DataFrame _df: a pandas dataFrame</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         self.df         = _df</span>
<span class="c1">#         self.report     = {}</span>
<span class="c1">#         self.size       = 0</span>
<span class="c1">#         self.list_label = []</span>
<span class="c1">#         self.list_questions = []</span>
<span class="c1">#         self.list_opened_questions = []</span>
<span class="c1">#         self.list_closed_questions = []</span>
<span class="c1">#         self.pre_process()</span>
<span class="c1">#         pass</span>
<span class="c1">#     def pre_process(self):</span>
<span class="c1">#         &quot;&quot;&quot; preprocess data from pandas dataframe</span>

<span class="c1">#         This method try to figure out which type of each question. Its uses the Heuristic stored at THRESHOLD_UNIQUE.If you have more unique answers than the THRESHOLD_UNIQUE probably you have a opened question otherwise you probably you have a closed question.</span>
<span class="c1">#         Since there are kinds of closed questions that commomly produces unique questions due to the huge number of categories combined, This step works like an oriented guess needed to be reviewed</span>

<span class="c1">#         :todo: Look for false positive</span>
<span class="c1">#         :return str: Report about colected data</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         # Find surveys size</span>
<span class="c1">#         self.size = len(self.df.columns)</span>
<span class="c1">#         # self.size = 1</span>

<span class="c1">#         # Generate deafault labels</span>
<span class="c1">#         for i in range(self.size):</span>
<span class="c1">#             temp = &quot;pergunta_&quot; + str(i)</span>
<span class="c1">#             self.list_label.append(temp)</span>
        
<span class="c1">#         #iterate along columns</span>
<span class="c1">#         for i in range(self.size):</span>
<span class="c1">#             question = self.df.columns[i]</span>
<span class="c1">#             # print(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;, question)</span>
<span class="c1">#             column = self.df.iloc[:,i]</span>
<span class="c1">#             # print(type(column))</span>
<span class="c1">#             question_type = hs.getType(column)</span>
<span class="c1">#             temp = &quot;&quot;</span>
<span class="c1">#             if(question_type == hs.QuestionType.OPENED):</span>
<span class="c1">#                 temp = hs.question.OpenedQuestion(self, self.list_label[i], i)</span>
<span class="c1">#                 self.list_opened_questions.append(i)</span>
<span class="c1">#             elif(question_type == hs.QuestionType.CLOSED):</span>
<span class="c1">#                 temp = hs.question.ClosedQuestion(self, self.list_label[i], i)</span>
<span class="c1">#                 self.list_closed_questions.append(i)</span>
<span class="c1">#             self.list_questions.append(temp)</span>
<span class="c1">#         self.report[&quot;size&quot;] = self.size</span>
<span class="c1">#         self.report[&quot;openQuestions&quot;] = len(self.list_opened_questions)</span>
<span class="c1">#         self.report[&quot;closedQuestions&quot;] = len(self.list_closed_questions)</span>
<span class="c1">#         return self.report</span>
    
<span class="c1">#     def getReportFormated(self):</span>
        
<span class="c1">#         pass</span>
    
<span class="c1">#     def getQuestion(self, ind):</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         Query the question question using the index passed as parameter</span>

<span class="c1">#         :param int ind: Index used to query the question from dataframe</span>
<span class="c1">#         :return: question from the index question passed as parameter</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         return self.df.columns.values[ind]</span>

<span class="c1">#     def getData(self, row, column):</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         Query for some data from data frame using row and column as parameters</span>

<span class="c1">#         :param int row: row you want data from</span>
<span class="c1">#         :param int column: column you want data from</span>
<span class="c1">#         :return: data from the row and column passed</span>
<span class="c1">#         &quot;&quot;&quot;</span>
<span class="c1">#         r = self.df.iloc[row, column]</span>
<span class="c1">#         return r</span>

</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Bruno Ferraz.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'v 0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>